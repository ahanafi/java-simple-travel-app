/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package travelapp;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.Toolkit;
import java.awt.event.KeyEvent;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.text.DecimalFormat;
import java.text.ParseException;
import javax.swing.table.DefaultTableModel;
import models.*;
import utils.CustomHelper;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.logging.Level;
import java.util.logging.Logger;

//Report
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.view.JasperViewer;

/**
 *
 * @author Ahmad Hanafi
 */
public class MainForm extends javax.swing.JFrame {
    /* Define All Models */
    private final UserModel userModel;
    private final TravelModel travelModel;
    private final SewaModel sewaModel;
    private final PengembalianModel pengembalianModel;
    
    private final CustomHelper helper;
    private final DefaultTableModel userTableModel, travelTableModel, sewaTableModel, pengembalianTableModel;
    
    private String selectedUserId, selectedKodeTravel, selectedNoSewa;
    
    public static String userName, userLevel;
    public static double dataTotalBayar;
    
    private final DBHelper dbHelper;
    
    
    //HELPER SEWA
    private static String SELECTED_KODE_TRAVEL, SELECTED_NAMA_TRAVEL;
    private static double SELECTED_HARGA_TRAVEL, TOTAL_BAYAR;
    /**
     * Creates new form MainForm
     */
    public MainForm() {
        initComponents();
        Dimension dim = Toolkit.getDefaultToolkit().getScreenSize();
        
        int formWidth = dim.width/ 2 - this.getSize().width/2;
        int formHeight = dim.height/2-this.getSize().height/2;
        this.setLocation(formWidth, formHeight);
        this.setResizable(false);
        setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);
        
        helper = new CustomHelper();
        dbHelper = new DBHelper();
        
        /* USER SECTION */
        userModel = new UserModel();
        userTableModel = new DefaultTableModel();
        userTableModel.addColumn("ID");
        userTableModel.addColumn("Username");
        userTableModel.addColumn("Nama Lengkap");
        userDataTable.setModel(userTableModel);
        resetUserForm();
        loadUserData();
        
        /* TRAVEL SECTION */
        travelModel = new TravelModel();
        travelTableModel = new DefaultTableModel();
        travelTableModel.addColumn("Kode Travel");
        travelTableModel.addColumn("Nama Travel");
        travelTableModel.addColumn("Harga");
        travelTableModel.addColumn("Jumlah Travel");
        travelTableModel.addColumn("Keterangan");
        travelDataTable.setModel(travelTableModel);
        resetTravelForm();
        loadDataTravel();
        
        /* SEWA */
        sewaModel = new SewaModel();
        sewaTableModel = new DefaultTableModel();
        sewaTableModel.addColumn("No. Sewa");
        sewaTableModel.addColumn("Nama Penyewa");
        sewaTableModel.addColumn("Tgl. Sewa");
        sewaTableModel.addColumn("Kode Travel");
        sewaTableModel.addColumn("Nama Travel");
        sewaTableModel.addColumn("Harga Travel");
        sewaTableModel.addColumn("Jumlah Sewa");
        sewaTableModel.addColumn("Total Bayar");
        sewaDataTable.setModel(sewaTableModel);
        resetSewaForm();
        loadDataSewa();
        
        pengembalianModel = new PengembalianModel();
        pengembalianTableModel = new DefaultTableModel();
        pengembalianTableModel.addColumn("No. Sewa");
        pengembalianTableModel.addColumn("Nama Penyewa");
        pengembalianTableModel.addColumn("Tanggal Pengembalian");
        pengembalianTableModel.addColumn("Kode Travel");
        pengembalianTableModel.addColumn("Nama Travel");
        pengembalianDataTable.setModel(pengembalianTableModel);
        loadDataPengembalian();
        resetPengembalianForm();
        
        showContent(homePanel);
    }
    
    public void setUserLoggedIn(String uname) {
        userName = uname;
        
        String currentStatus = userLoggedInStatus.getText();
        String newStatus = currentStatus + " : " + userName;
        userLoggedInStatus.setText(newStatus);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        mainPanel = new javax.swing.JPanel();
        homePanel = new javax.swing.JPanel();
        welcomeLabel = new javax.swing.JLabel();
        appName = new javax.swing.JLabel();
        userLoggedInStatus = new javax.swing.JLabel();
        userPanel = new javax.swing.JPanel();
        userFormPanel = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        usernameText = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        passwordText = new javax.swing.JPasswordField();
        jLabel12 = new javax.swing.JLabel();
        namaLengkapText = new javax.swing.JTextField();
        btnResetUser = new javax.swing.JButton();
        btnSaveUser = new javax.swing.JButton();
        btnDeleteUser = new javax.swing.JButton();
        btnUpdateUser = new javax.swing.JButton();
        userDataPanel = new javax.swing.JPanel();
        jScrollPane4 = new javax.swing.JScrollPane();
        userDataTable = new javax.swing.JTable();
        travelPanel = new javax.swing.JPanel();
        travelFormPanel = new javax.swing.JPanel();
        jLabel16 = new javax.swing.JLabel();
        kodeTravelText = new javax.swing.JTextField();
        jLabel26 = new javax.swing.JLabel();
        jLabel27 = new javax.swing.JLabel();
        jumlahTravelText = new javax.swing.JTextField();
        btnResetTravel = new javax.swing.JButton();
        btnSaveTravel = new javax.swing.JButton();
        btnDeleteTravel = new javax.swing.JButton();
        btnUpdateTravel = new javax.swing.JButton();
        jLabel28 = new javax.swing.JLabel();
        jLabel29 = new javax.swing.JLabel();
        namaTravelText = new javax.swing.JTextField();
        hargaTravelText = new javax.swing.JFormattedTextField();
        jScrollPane8 = new javax.swing.JScrollPane();
        keteranganText = new javax.swing.JTextArea();
        travelDataPanel = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        travelDataTable = new javax.swing.JTable();
        jLabel2 = new javax.swing.JLabel();
        keywordTravelText = new javax.swing.JTextField();
        btnCetakTravel = new javax.swing.JButton();
        sewaPanel = new javax.swing.JPanel();
        sewaFormPanel = new javax.swing.JPanel();
        jLabel17 = new javax.swing.JLabel();
        kodeSewaText = new javax.swing.JTextField();
        jLabel30 = new javax.swing.JLabel();
        jLabel31 = new javax.swing.JLabel();
        hargaTravelSewa = new javax.swing.JTextField();
        btnResetSewa = new javax.swing.JButton();
        btnSaveSewa = new javax.swing.JButton();
        btnDeleteSewa = new javax.swing.JButton();
        btnUpdateSewa = new javax.swing.JButton();
        jLabel32 = new javax.swing.JLabel();
        namaPenyewaText = new javax.swing.JTextField();
        namaTravelSewa = new javax.swing.JFormattedTextField();
        jLabel34 = new javax.swing.JLabel();
        jLabel35 = new javax.swing.JLabel();
        cbTravel = new javax.swing.JComboBox<>();
        jLabel36 = new javax.swing.JLabel();
        jumlahSewaText = new javax.swing.JTextField();
        tanggalSewaText = new com.toedter.calendar.JDateChooser();
        jLabel37 = new javax.swing.JLabel();
        totalBiayaSewaText = new javax.swing.JLabel();
        sewaDataPanel = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        sewaDataTable = new javax.swing.JTable();
        jLabel3 = new javax.swing.JLabel();
        keywordSewaText = new javax.swing.JTextField();
        btnCetakSewa = new javax.swing.JButton();
        jLabel5 = new javax.swing.JLabel();
        startDateSewa = new com.toedter.calendar.JDateChooser();
        jLabel6 = new javax.swing.JLabel();
        endDateSewa = new com.toedter.calendar.JDateChooser();
        btnFilterSewa = new javax.swing.JButton();
        pengembalianPanel = new javax.swing.JPanel();
        pengembalianFormPanel = new javax.swing.JPanel();
        jLabel33 = new javax.swing.JLabel();
        btnSavePengembalian = new javax.swing.JButton();
        btnDeletePengembalian = new javax.swing.JButton();
        jLabel41 = new javax.swing.JLabel();
        cbNoSewa = new javax.swing.JComboBox<>();
        tanggalKembaliText = new com.toedter.calendar.JDateChooser();
        jLabel42 = new javax.swing.JLabel();
        namaPenyewaKembali = new javax.swing.JTextField();
        jLabel43 = new javax.swing.JLabel();
        totalBayarKembali = new javax.swing.JTextField();
        jLabel44 = new javax.swing.JLabel();
        jumlahSewaKembali = new javax.swing.JTextField();
        btnResetPengembalian = new javax.swing.JButton();
        pengembalianDataPanel = new javax.swing.JPanel();
        jScrollPane3 = new javax.swing.JScrollPane();
        pengembalianDataTable = new javax.swing.JTable();
        jLabel7 = new javax.swing.JLabel();
        startDatePengembalian = new com.toedter.calendar.JDateChooser();
        jLabel9 = new javax.swing.JLabel();
        keywordPengembalianText = new javax.swing.JTextField();
        endDatePengembalian = new com.toedter.calendar.JDateChooser();
        btnFilterPengembalian = new javax.swing.JButton();
        btnCetakPengembalian = new javax.swing.JButton();
        jLabel11 = new javax.swing.JLabel();
        myMenuBar = new javax.swing.JMenuBar();
        home = new javax.swing.JMenu();
        dataTravel = new javax.swing.JMenu();
        sewa = new javax.swing.JMenu();
        pengembalian = new javax.swing.JMenu();
        manajemenPengguna = new javax.swing.JMenu();
        keluar = new javax.swing.JMenu();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setMinimumSize(new java.awt.Dimension(1366, 768));
        setResizable(false);

        mainPanel.setMaximumSize(new java.awt.Dimension(1366, 768));
        mainPanel.setMinimumSize(new java.awt.Dimension(1366, 768));
        mainPanel.setPreferredSize(new java.awt.Dimension(1366, 768));

        homePanel.setBackground(new java.awt.Color(51, 153, 255));
        homePanel.setEnabled(false);
        homePanel.setMaximumSize(new java.awt.Dimension(1360, 760));
        homePanel.setPreferredSize(new java.awt.Dimension(1366, 760));

        welcomeLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        welcomeLabel.setText("Welcome to the ");
        welcomeLabel.setInheritsPopupMenu(false);

        appName.setFont(new java.awt.Font("Tahoma", 0, 36)); // NOI18N
        appName.setText("Java Simple Travel App");
        appName.setInheritsPopupMenu(false);

        userLoggedInStatus.setBackground(new java.awt.Color(255, 204, 0));
        userLoggedInStatus.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        userLoggedInStatus.setText("Anda login Sebagai");
        userLoggedInStatus.setInheritsPopupMenu(false);

        javax.swing.GroupLayout homePanelLayout = new javax.swing.GroupLayout(homePanel);
        homePanel.setLayout(homePanelLayout);
        homePanelLayout.setHorizontalGroup(
            homePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(homePanelLayout.createSequentialGroup()
                .addGap(469, 469, 469)
                .addGroup(homePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, homePanelLayout.createSequentialGroup()
                        .addComponent(welcomeLabel)
                        .addGap(138, 138, 138))
                    .addComponent(appName, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(userLoggedInStatus))
                .addContainerGap(528, Short.MAX_VALUE))
        );
        homePanelLayout.setVerticalGroup(
            homePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(homePanelLayout.createSequentialGroup()
                .addGap(271, 271, 271)
                .addComponent(welcomeLabel)
                .addGap(18, 18, 18)
                .addComponent(appName)
                .addGap(30, 30, 30)
                .addComponent(userLoggedInStatus)
                .addContainerGap(346, Short.MAX_VALUE))
        );

        userPanel.setBackground(new java.awt.Color(0, 255, 102));
        userPanel.setEnabled(false);
        userPanel.setMaximumSize(new java.awt.Dimension(1360, 760));
        userPanel.setPreferredSize(new java.awt.Dimension(1366, 768));

        userFormPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "FORM TAMBAH/EDIT PENGGUNA", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 18))); // NOI18N
        userFormPanel.setName(""); // NOI18N
        userFormPanel.setPreferredSize(new java.awt.Dimension(465, 760));

        jLabel8.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel8.setText("Username");

        usernameText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        jLabel10.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel10.setText("Password");

        passwordText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        jLabel12.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel12.setText("Nama Lengkap");

        namaLengkapText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        btnResetUser.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnResetUser.setText("RESET");
        btnResetUser.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnResetUserActionPerformed(evt);
            }
        });

        btnSaveUser.setBackground(new java.awt.Color(51, 153, 255));
        btnSaveUser.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnSaveUser.setForeground(new java.awt.Color(255, 255, 255));
        btnSaveUser.setText("SIMPAN");
        btnSaveUser.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSaveUserActionPerformed(evt);
            }
        });

        btnDeleteUser.setBackground(new java.awt.Color(255, 0, 0));
        btnDeleteUser.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnDeleteUser.setForeground(new java.awt.Color(255, 255, 255));
        btnDeleteUser.setText("DELETE");
        btnDeleteUser.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnDeleteUserActionPerformed(evt);
            }
        });

        btnUpdateUser.setBackground(new java.awt.Color(51, 255, 51));
        btnUpdateUser.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnUpdateUser.setForeground(new java.awt.Color(255, 255, 255));
        btnUpdateUser.setText("UPDATE");
        btnUpdateUser.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUpdateUserActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout userFormPanelLayout = new javax.swing.GroupLayout(userFormPanel);
        userFormPanel.setLayout(userFormPanelLayout);
        userFormPanelLayout.setHorizontalGroup(
            userFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(userFormPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(userFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(usernameText)
                    .addComponent(passwordText)
                    .addComponent(namaLengkapText)
                    .addComponent(btnSaveUser, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnResetUser, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(userFormPanelLayout.createSequentialGroup()
                        .addGroup(userFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel8)
                            .addComponent(jLabel10)
                            .addComponent(jLabel12))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, userFormPanelLayout.createSequentialGroup()
                        .addGap(0, 2, Short.MAX_VALUE)
                        .addComponent(btnUpdateUser, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnDeleteUser, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        userFormPanelLayout.setVerticalGroup(
            userFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(userFormPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel8)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(usernameText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel10)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(passwordText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel12)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(namaLengkapText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(27, 27, 27)
                .addComponent(btnSaveUser, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(btnResetUser, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(userFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnUpdateUser, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnDeleteUser, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        userDataPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "DATA PENGGUNA", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 18))); // NOI18N

        userDataTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        userDataTable.setRowHeight(20);
        userDataTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                userDataTableMouseClicked(evt);
            }
        });
        jScrollPane4.setViewportView(userDataTable);

        javax.swing.GroupLayout userDataPanelLayout = new javax.swing.GroupLayout(userDataPanel);
        userDataPanel.setLayout(userDataPanelLayout);
        userDataPanelLayout.setHorizontalGroup(
            userDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(userDataPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 809, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(20, Short.MAX_VALUE))
        );
        userDataPanelLayout.setVerticalGroup(
            userDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(userDataPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 604, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout userPanelLayout = new javax.swing.GroupLayout(userPanel);
        userPanel.setLayout(userPanelLayout);
        userPanelLayout.setHorizontalGroup(
            userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(userPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(userFormPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(userDataPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        userPanelLayout.setVerticalGroup(
            userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(userPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(userPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(userDataPanel, javax.swing.GroupLayout.DEFAULT_SIZE, 655, Short.MAX_VALUE)
                    .addComponent(userFormPanel, javax.swing.GroupLayout.DEFAULT_SIZE, 655, Short.MAX_VALUE))
                .addContainerGap(1848, Short.MAX_VALUE))
        );

        travelPanel.setBackground(new java.awt.Color(0, 255, 102));
        travelPanel.setEnabled(false);
        travelPanel.setMaximumSize(new java.awt.Dimension(1360, 760));
        travelPanel.setPreferredSize(new java.awt.Dimension(1366, 768));

        travelFormPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "FORM TAMBAH/EDIT TRAVEL", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 18))); // NOI18N
        travelFormPanel.setName(""); // NOI18N
        travelFormPanel.setPreferredSize(new java.awt.Dimension(465, 700));

        jLabel16.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel16.setText("Kode Travel");

        kodeTravelText.setEditable(false);
        kodeTravelText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        jLabel26.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel26.setText("Harga Travel (Rp)");

        jLabel27.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel27.setText("Jumlah Travel");

        jumlahTravelText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        btnResetTravel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnResetTravel.setText("RESET");
        btnResetTravel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnResetTravelActionPerformed(evt);
            }
        });

        btnSaveTravel.setBackground(new java.awt.Color(51, 153, 255));
        btnSaveTravel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnSaveTravel.setForeground(new java.awt.Color(255, 255, 255));
        btnSaveTravel.setText("SIMPAN");
        btnSaveTravel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSaveTravelActionPerformed(evt);
            }
        });

        btnDeleteTravel.setBackground(new java.awt.Color(255, 0, 0));
        btnDeleteTravel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnDeleteTravel.setForeground(new java.awt.Color(255, 255, 255));
        btnDeleteTravel.setText("DELETE");
        btnDeleteTravel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnDeleteTravelActionPerformed(evt);
            }
        });

        btnUpdateTravel.setBackground(new java.awt.Color(51, 255, 51));
        btnUpdateTravel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnUpdateTravel.setForeground(new java.awt.Color(255, 255, 255));
        btnUpdateTravel.setText("UPDATE");
        btnUpdateTravel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUpdateTravelActionPerformed(evt);
            }
        });

        jLabel28.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel28.setText("Nama Travel");

        jLabel29.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel29.setText("Keterangan");

        namaTravelText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        hargaTravelText.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0"))));
        hargaTravelText.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        hargaTravelText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        keteranganText.setColumns(20);
        keteranganText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        keteranganText.setRows(5);
        jScrollPane8.setViewportView(keteranganText);

        javax.swing.GroupLayout travelFormPanelLayout = new javax.swing.GroupLayout(travelFormPanel);
        travelFormPanel.setLayout(travelFormPanelLayout);
        travelFormPanelLayout.setHorizontalGroup(
            travelFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(travelFormPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(travelFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane8)
                    .addComponent(jumlahTravelText)
                    .addComponent(hargaTravelText)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, travelFormPanelLayout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(btnSaveTravel)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnResetTravel, javax.swing.GroupLayout.PREFERRED_SIZE, 102, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnUpdateTravel)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnDeleteTravel))
                    .addComponent(namaTravelText)
                    .addComponent(kodeTravelText)
                    .addGroup(travelFormPanelLayout.createSequentialGroup()
                        .addGroup(travelFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel29)
                            .addGroup(travelFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(jLabel16, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jLabel26, javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel27, javax.swing.GroupLayout.Alignment.LEADING))
                            .addComponent(jLabel28))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        travelFormPanelLayout.setVerticalGroup(
            travelFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(travelFormPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel16)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(kodeTravelText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel28)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(namaTravelText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(27, 27, 27)
                .addComponent(jLabel26)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(hargaTravelText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel27)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jumlahTravelText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel29)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane8, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(travelFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(btnResetTravel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnSaveTravel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnDeleteTravel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnUpdateTravel, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(94, Short.MAX_VALUE))
        );

        travelDataPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "DATA TRAVEL", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 18))); // NOI18N

        travelDataTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        travelDataTable.setRowHeight(20);
        travelDataTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                travelDataTableMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(travelDataTable);

        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel2.setText("Cari Travel :");

        keywordTravelText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        keywordTravelText.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                keywordTravelTextKeyPressed(evt);
            }
        });

        btnCetakTravel.setBackground(new java.awt.Color(51, 153, 255));
        btnCetakTravel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnCetakTravel.setForeground(new java.awt.Color(255, 255, 255));
        btnCetakTravel.setText("CETAK");
        btnCetakTravel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCetakTravelActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout travelDataPanelLayout = new javax.swing.GroupLayout(travelDataPanel);
        travelDataPanel.setLayout(travelDataPanelLayout);
        travelDataPanelLayout.setHorizontalGroup(
            travelDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(travelDataPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(travelDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(travelDataPanelLayout.createSequentialGroup()
                        .addComponent(jLabel2)
                        .addGap(18, 18, 18)
                        .addComponent(keywordTravelText, javax.swing.GroupLayout.PREFERRED_SIZE, 279, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btnCetakTravel, javax.swing.GroupLayout.PREFERRED_SIZE, 118, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 809, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        travelDataPanelLayout.setVerticalGroup(
            travelDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, travelDataPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(travelDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel2)
                    .addComponent(btnCetakTravel, javax.swing.GroupLayout.DEFAULT_SIZE, 47, Short.MAX_VALUE)
                    .addComponent(keywordTravelText))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 551, Short.MAX_VALUE)
                .addContainerGap())
        );

        javax.swing.GroupLayout travelPanelLayout = new javax.swing.GroupLayout(travelPanel);
        travelPanel.setLayout(travelPanelLayout);
        travelPanelLayout.setHorizontalGroup(
            travelPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(travelPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(travelFormPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(travelDataPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        travelPanelLayout.setVerticalGroup(
            travelPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(travelPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(travelPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(travelFormPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 673, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(travelDataPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        sewaPanel.setBackground(new java.awt.Color(0, 255, 102));
        sewaPanel.setEnabled(false);
        sewaPanel.setMaximumSize(new java.awt.Dimension(1360, 760));
        sewaPanel.setPreferredSize(new java.awt.Dimension(1366, 768));

        sewaFormPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "FORM TAMBAH/EDIT DATA SEWA", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 18))); // NOI18N
        sewaFormPanel.setName(""); // NOI18N
        sewaFormPanel.setPreferredSize(new java.awt.Dimension(465, 700));

        jLabel17.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel17.setText("Kode Sewa");

        kodeSewaText.setEditable(false);
        kodeSewaText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        jLabel30.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel30.setText("Tanggal Sewa");

        jLabel31.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel31.setText("Harga Travel");

        hargaTravelSewa.setEditable(false);
        hargaTravelSewa.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        btnResetSewa.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnResetSewa.setText("RESET");
        btnResetSewa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnResetSewaActionPerformed(evt);
            }
        });

        btnSaveSewa.setBackground(new java.awt.Color(51, 153, 255));
        btnSaveSewa.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnSaveSewa.setForeground(new java.awt.Color(255, 255, 255));
        btnSaveSewa.setText("SIMPAN");
        btnSaveSewa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSaveSewaActionPerformed(evt);
            }
        });

        btnDeleteSewa.setBackground(new java.awt.Color(255, 0, 0));
        btnDeleteSewa.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnDeleteSewa.setForeground(new java.awt.Color(255, 255, 255));
        btnDeleteSewa.setText("DELETE");
        btnDeleteSewa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnDeleteSewaActionPerformed(evt);
            }
        });

        btnUpdateSewa.setBackground(new java.awt.Color(51, 255, 51));
        btnUpdateSewa.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnUpdateSewa.setForeground(new java.awt.Color(255, 255, 255));
        btnUpdateSewa.setText("UPDATE");
        btnUpdateSewa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUpdateSewaActionPerformed(evt);
            }
        });

        jLabel32.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel32.setText("Nama Penyewa");

        namaPenyewaText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        namaTravelSewa.setEditable(false);
        namaTravelSewa.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0"))));
        namaTravelSewa.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        jLabel34.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel34.setText("Nama Travel");

        jLabel35.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel35.setText("Kode Travel");

        cbTravel.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        cbTravel.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                cbTravelItemStateChanged(evt);
            }
        });

        jLabel36.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel36.setText("Jumlah Sewa");

        jumlahSewaText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jumlahSewaText.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jumlahSewaTextKeyReleased(evt);
            }
        });

        tanggalSewaText.setDateFormatString("yyyy-MM-dd");
        tanggalSewaText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        jLabel37.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel37.setText("Total Biaya");

        totalBiayaSewaText.setFont(new java.awt.Font("Tahoma", 3, 28)); // NOI18N
        totalBiayaSewaText.setText("2.000.000,-");

        javax.swing.GroupLayout sewaFormPanelLayout = new javax.swing.GroupLayout(sewaFormPanel);
        sewaFormPanel.setLayout(sewaFormPanelLayout);
        sewaFormPanelLayout.setHorizontalGroup(
            sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(sewaFormPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, sewaFormPanelLayout.createSequentialGroup()
                        .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel17, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel32)
                            .addComponent(jLabel30)
                            .addComponent(jLabel35)
                            .addComponent(jLabel34)
                            .addComponent(jLabel31))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(hargaTravelSewa)
                            .addComponent(namaTravelSewa)
                            .addComponent(cbTravel, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(tanggalSewaText, javax.swing.GroupLayout.DEFAULT_SIZE, 277, Short.MAX_VALUE)
                            .addComponent(namaPenyewaText)
                            .addComponent(kodeSewaText)))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, sewaFormPanelLayout.createSequentialGroup()
                        .addComponent(jLabel36)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jumlahSewaText, javax.swing.GroupLayout.PREFERRED_SIZE, 277, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(sewaFormPanelLayout.createSequentialGroup()
                        .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel37)
                            .addComponent(totalBiayaSewaText)
                            .addGroup(sewaFormPanelLayout.createSequentialGroup()
                                .addComponent(btnSaveSewa)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(btnResetSewa, javax.swing.GroupLayout.PREFERRED_SIZE, 102, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(btnUpdateSewa)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(btnDeleteSewa)))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        sewaFormPanelLayout.setVerticalGroup(
            sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(sewaFormPanelLayout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel17)
                    .addComponent(kodeSewaText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel32)
                    .addComponent(namaPenyewaText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel30)
                    .addComponent(tanggalSewaText, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel35)
                    .addComponent(cbTravel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel34)
                    .addComponent(namaTravelSewa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(hargaTravelSewa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel31))
                .addGap(18, 18, 18)
                .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jumlahSewaText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel36))
                .addGap(18, 18, 18)
                .addComponent(jLabel37)
                .addGap(18, 18, 18)
                .addComponent(totalBiayaSewaText, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(sewaFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(btnResetSewa, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnSaveSewa, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnDeleteSewa, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnUpdateSewa, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(136, Short.MAX_VALUE))
        );

        sewaDataPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "DATA SEWA", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 18))); // NOI18N

        sewaDataTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        sewaDataTable.setRowHeight(20);
        sewaDataTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                sewaDataTableMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(sewaDataTable);

        jLabel3.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel3.setText("Cari Data Sewa :");

        keywordSewaText.setEditable(false);
        keywordSewaText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        keywordSewaText.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                keywordSewaTextKeyPressed(evt);
            }
        });

        btnCetakSewa.setBackground(new java.awt.Color(51, 153, 255));
        btnCetakSewa.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnCetakSewa.setForeground(new java.awt.Color(255, 255, 255));
        btnCetakSewa.setText("CETAK");
        btnCetakSewa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCetakSewaActionPerformed(evt);
            }
        });

        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel5.setText("Filter Data Dari :");

        startDateSewa.setDateFormatString("yyyy-MM-dd");
        startDateSewa.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        jLabel6.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel6.setText("sampai :");

        endDateSewa.setDateFormatString("yyyy-MM-dd");
        endDateSewa.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        btnFilterSewa.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnFilterSewa.setText("Filter");
        btnFilterSewa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnFilterSewaActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout sewaDataPanelLayout = new javax.swing.GroupLayout(sewaDataPanel);
        sewaDataPanel.setLayout(sewaDataPanelLayout);
        sewaDataPanelLayout.setHorizontalGroup(
            sewaDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(sewaDataPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(sewaDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(sewaDataPanelLayout.createSequentialGroup()
                        .addGroup(sewaDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel3)
                            .addComponent(jLabel5))
                        .addGap(18, 18, 18)
                        .addGroup(sewaDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(sewaDataPanelLayout.createSequentialGroup()
                                .addComponent(startDateSewa, javax.swing.GroupLayout.PREFERRED_SIZE, 170, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(19, 19, 19)
                                .addComponent(jLabel6)
                                .addGap(18, 18, 18)
                                .addComponent(endDateSewa, javax.swing.GroupLayout.PREFERRED_SIZE, 170, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(keywordSewaText, javax.swing.GroupLayout.PREFERRED_SIZE, 279, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(sewaDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(btnCetakSewa, javax.swing.GroupLayout.DEFAULT_SIZE, 157, Short.MAX_VALUE)
                            .addComponent(btnFilterSewa, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 809, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        sewaDataPanelLayout.setVerticalGroup(
            sewaDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, sewaDataPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(sewaDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(sewaDataPanelLayout.createSequentialGroup()
                        .addComponent(btnCetakSewa, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnFilterSewa))
                    .addGroup(sewaDataPanelLayout.createSequentialGroup()
                        .addGroup(sewaDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel3)
                            .addComponent(keywordSewaText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(20, 20, 20)
                        .addGroup(sewaDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel5)
                            .addComponent(startDateSewa, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel6)
                            .addComponent(endDateSewa, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 34, Short.MAX_VALUE)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 496, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        javax.swing.GroupLayout sewaPanelLayout = new javax.swing.GroupLayout(sewaPanel);
        sewaPanel.setLayout(sewaPanelLayout);
        sewaPanelLayout.setHorizontalGroup(
            sewaPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(sewaPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(sewaFormPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(sewaDataPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(26, Short.MAX_VALUE))
        );
        sewaPanelLayout.setVerticalGroup(
            sewaPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(sewaPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(sewaPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(sewaFormPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 673, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(sewaDataPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pengembalianPanel.setBackground(new java.awt.Color(0, 255, 102));
        pengembalianPanel.setEnabled(false);
        pengembalianPanel.setMaximumSize(new java.awt.Dimension(1360, 760));
        pengembalianPanel.setPreferredSize(new java.awt.Dimension(1366, 768));

        pengembalianFormPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "FORM TAMBAH/EDIT DATA PENGEMBALIAN", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 18))); // NOI18N
        pengembalianFormPanel.setName(""); // NOI18N
        pengembalianFormPanel.setPreferredSize(new java.awt.Dimension(465, 700));

        jLabel33.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel33.setText("Tanggal Kembali");

        btnSavePengembalian.setBackground(new java.awt.Color(51, 153, 255));
        btnSavePengembalian.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnSavePengembalian.setForeground(new java.awt.Color(255, 255, 255));
        btnSavePengembalian.setText("SIMPAN");
        btnSavePengembalian.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSavePengembalianActionPerformed(evt);
            }
        });

        btnDeletePengembalian.setBackground(new java.awt.Color(255, 0, 0));
        btnDeletePengembalian.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnDeletePengembalian.setForeground(new java.awt.Color(255, 255, 255));
        btnDeletePengembalian.setText("DELETE");
        btnDeletePengembalian.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnDeletePengembalianActionPerformed(evt);
            }
        });

        jLabel41.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel41.setText("No. Sewa");

        cbNoSewa.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        cbNoSewa.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                cbNoSewaItemStateChanged(evt);
            }
        });

        tanggalKembaliText.setDateFormatString("yyyy-MM-dd");
        tanggalKembaliText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        jLabel42.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel42.setText("Nama Penyewa");

        namaPenyewaKembali.setEditable(false);
        namaPenyewaKembali.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        jLabel43.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel43.setText("Total Bayar");

        totalBayarKembali.setEditable(false);
        totalBayarKembali.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        jLabel44.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel44.setText("Jumlah Sewa");

        jumlahSewaKembali.setEditable(false);
        jumlahSewaKembali.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        btnResetPengembalian.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnResetPengembalian.setText("RESET");
        btnResetPengembalian.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnResetPengembalianActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pengembalianFormPanelLayout = new javax.swing.GroupLayout(pengembalianFormPanel);
        pengembalianFormPanel.setLayout(pengembalianFormPanelLayout);
        pengembalianFormPanelLayout.setHorizontalGroup(
            pengembalianFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pengembalianFormPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pengembalianFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(cbNoSewa, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(namaPenyewaKembali)
                    .addComponent(totalBayarKembali)
                    .addComponent(tanggalKembaliText, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jumlahSewaKembali)
                    .addGroup(pengembalianFormPanelLayout.createSequentialGroup()
                        .addGroup(pengembalianFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel41)
                            .addComponent(jLabel42)
                            .addComponent(jLabel43)
                            .addComponent(jLabel33)
                            .addComponent(jLabel44))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(pengembalianFormPanelLayout.createSequentialGroup()
                        .addComponent(btnSavePengembalian, javax.swing.GroupLayout.PREFERRED_SIZE, 140, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, Short.MAX_VALUE)
                        .addComponent(btnResetPengembalian, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(btnDeletePengembalian, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        pengembalianFormPanelLayout.setVerticalGroup(
            pengembalianFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pengembalianFormPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel41)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(cbNoSewa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel42)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(namaPenyewaKembali, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel44)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jumlahSewaKembali, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel43)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(totalBayarKembali, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel33)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tanggalKembaliText, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(28, 28, 28)
                .addGroup(pengembalianFormPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(btnDeletePengembalian, javax.swing.GroupLayout.DEFAULT_SIZE, 42, Short.MAX_VALUE)
                    .addComponent(btnResetPengembalian, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnSavePengembalian, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(173, Short.MAX_VALUE))
        );

        pengembalianDataPanel.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "DATA PENGEMBALIAN SEWA TRAVEL", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 18))); // NOI18N

        pengembalianDataTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        pengembalianDataTable.setRowHeight(20);
        pengembalianDataTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                pengembalianDataTableMouseClicked(evt);
            }
        });
        jScrollPane3.setViewportView(pengembalianDataTable);

        jLabel7.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel7.setText("Filter Data Dari :");

        startDatePengembalian.setDateFormatString("yyyy-MM-dd");
        startDatePengembalian.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        jLabel9.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel9.setText("Cari Data Sewa :");

        keywordPengembalianText.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        keywordPengembalianText.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                keywordPengembalianTextKeyPressed(evt);
            }
        });

        endDatePengembalian.setDateFormatString("yyyy-MM-dd");
        endDatePengembalian.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N

        btnFilterPengembalian.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnFilterPengembalian.setText("Filter");
        btnFilterPengembalian.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnFilterPengembalianActionPerformed(evt);
            }
        });

        btnCetakPengembalian.setBackground(new java.awt.Color(51, 153, 255));
        btnCetakPengembalian.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        btnCetakPengembalian.setForeground(new java.awt.Color(255, 255, 255));
        btnCetakPengembalian.setText("CETAK");
        btnCetakPengembalian.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCetakPengembalianActionPerformed(evt);
            }
        });

        jLabel11.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jLabel11.setText("Sampai :");

        javax.swing.GroupLayout pengembalianDataPanelLayout = new javax.swing.GroupLayout(pengembalianDataPanel);
        pengembalianDataPanel.setLayout(pengembalianDataPanelLayout);
        pengembalianDataPanelLayout.setHorizontalGroup(
            pengembalianDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pengembalianDataPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pengembalianDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pengembalianDataPanelLayout.createSequentialGroup()
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 809, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pengembalianDataPanelLayout.createSequentialGroup()
                        .addGroup(pengembalianDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel9)
                            .addComponent(jLabel7))
                        .addGap(18, 18, 18)
                        .addGroup(pengembalianDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pengembalianDataPanelLayout.createSequentialGroup()
                                .addComponent(startDatePengembalian, javax.swing.GroupLayout.PREFERRED_SIZE, 170, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel11)
                                .addGap(17, 17, 17)
                                .addComponent(endDatePengembalian, javax.swing.GroupLayout.PREFERRED_SIZE, 170, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(keywordPengembalianText, javax.swing.GroupLayout.PREFERRED_SIZE, 279, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(pengembalianDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(btnCetakPengembalian, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(btnFilterPengembalian, javax.swing.GroupLayout.PREFERRED_SIZE, 157, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap())
        );
        pengembalianDataPanelLayout.setVerticalGroup(
            pengembalianDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pengembalianDataPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pengembalianDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(pengembalianDataPanelLayout.createSequentialGroup()
                        .addComponent(btnCetakPengembalian, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnFilterPengembalian))
                    .addGroup(pengembalianDataPanelLayout.createSequentialGroup()
                        .addGroup(pengembalianDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel9)
                            .addComponent(keywordPengembalianText, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(20, 20, 20)
                        .addGroup(pengembalianDataPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel7)
                            .addComponent(startDatePengembalian, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(endDatePengembalian, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel11))))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 516, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        javax.swing.GroupLayout pengembalianPanelLayout = new javax.swing.GroupLayout(pengembalianPanel);
        pengembalianPanel.setLayout(pengembalianPanelLayout);
        pengembalianPanelLayout.setHorizontalGroup(
            pengembalianPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pengembalianPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(pengembalianFormPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(pengembalianDataPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(26, Short.MAX_VALUE))
        );
        pengembalianPanelLayout.setVerticalGroup(
            pengembalianPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pengembalianPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pengembalianPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(pengembalianFormPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 673, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(pengembalianDataPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout mainPanelLayout = new javax.swing.GroupLayout(mainPanel);
        mainPanel.setLayout(mainPanelLayout);
        mainPanelLayout.setHorizontalGroup(
            mainPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(mainPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(homePanel, javax.swing.GroupLayout.PREFERRED_SIZE, 1339, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(1345, Short.MAX_VALUE))
            .addGroup(mainPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(mainPanelLayout.createSequentialGroup()
                    .addContainerGap()
                    .addGroup(mainPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(mainPanelLayout.createSequentialGroup()
                            .addComponent(travelPanel, javax.swing.GroupLayout.DEFAULT_SIZE, 1352, Short.MAX_VALUE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(userPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 1325, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addContainerGap())
                        .addGroup(mainPanelLayout.createSequentialGroup()
                            .addComponent(sewaPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGap(1330, 1330, 1330))
                        .addGroup(mainPanelLayout.createSequentialGroup()
                            .addComponent(pengembalianPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addGap(1330, 1330, 1330)))))
        );
        mainPanelLayout.setVerticalGroup(
            mainPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(homePanel, javax.swing.GroupLayout.DEFAULT_SIZE, 6372, Short.MAX_VALUE)
            .addGroup(mainPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(mainPanelLayout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(travelPanel, javax.swing.GroupLayout.DEFAULT_SIZE, 699, Short.MAX_VALUE)
                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                    .addComponent(sewaPanel, javax.swing.GroupLayout.DEFAULT_SIZE, 699, Short.MAX_VALUE)
                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                    .addComponent(pengembalianPanel, javax.swing.GroupLayout.DEFAULT_SIZE, 699, Short.MAX_VALUE)
                    .addGap(4248, 4248, 4248))
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, mainPanelLayout.createSequentialGroup()
                    .addContainerGap(398, Short.MAX_VALUE)
                    .addComponent(userPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 2516, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap()))
        );

        home.setText("Home");
        home.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                homeMouseClicked(evt);
            }
        });
        myMenuBar.add(home);

        dataTravel.setText("Travel");
        dataTravel.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                dataTravelMouseClicked(evt);
            }
        });
        myMenuBar.add(dataTravel);

        sewa.setText("Sewa");
        sewa.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                sewaMouseClicked(evt);
            }
        });
        myMenuBar.add(sewa);

        pengembalian.setText("Pengembalian");
        pengembalian.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                pengembalianMouseClicked(evt);
            }
        });
        myMenuBar.add(pengembalian);

        manajemenPengguna.setText("Manajemen Pengguna");
        manajemenPengguna.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                manajemenPenggunaMouseClicked(evt);
            }
        });
        myMenuBar.add(manajemenPengguna);

        keluar.setText("Keluar");
        keluar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                keluarMouseClicked(evt);
            }
        });
        myMenuBar.add(keluar);

        setJMenuBar(myMenuBar);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 1366, Short.MAX_VALUE)
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(mainPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 768, Short.MAX_VALUE)
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(mainPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents


    /* MENU EVENT */
    private void homeMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_homeMouseClicked
        showContent(homePanel);
    }//GEN-LAST:event_homeMouseClicked

    private void manajemenPenggunaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_manajemenPenggunaMouseClicked
        showContent(userPanel);
    }//GEN-LAST:event_manajemenPenggunaMouseClicked

    private void keluarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_keluarMouseClicked
        int confirmExit = helper.confirmDialog(mainPanel, "Anda yakin akan keluar?", "Konfirmasi Keluar");
        if(confirmExit == 0) {
            this.setVisible(false);
            this.setEnabled(false);
            new FormLogin().setVisible(true);
            this.dispose();
        }
    }//GEN-LAST:event_keluarMouseClicked
    
    /*
     *   SEWA SECTION
     */
    private void travelDataTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_travelDataTableMouseClicked
        int row = travelDataTable.getSelectedRow();
        if(row >= 0) {
            String kodeTravel = (travelDataTable.getModel().getValueAt(row, 0).toString());
            if(! kodeTravel.equals("")) {
                try {
                    ResultSet dataTravel = travelModel.getTravelByCode(kodeTravel);
                    if(dataTravel.next()) {
                        String namaTravel = dataTravel.getString("nm_travel");
                        String keterangan = dataTravel.getString("keterangan");
                        double harga = dataTravel.getDouble("harga");
                        int jumlahTravel = dataTravel.getInt("jumlah_travel");
                        
                        selectedKodeTravel = kodeTravel;
                        kodeTravelText.setText(kodeTravel);
                        namaTravelText.setText(namaTravel);
                        hargaTravelText.setText(Double.toString(harga));
                        keteranganText.setText(keterangan);
                        jumlahTravelText.setText(Integer.toString(jumlahTravel));

                        btnSaveTravel.setEnabled(false);
                        btnDeleteTravel.setEnabled(true);
                        btnUpdateTravel.setEnabled(true);
                    }
                } catch (SQLException e) {
                    helper.showMessage(this, e.getMessage());
                }
            }
        }
    }//GEN-LAST:event_travelDataTableMouseClicked

    private void btnUpdateUserActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUpdateUserActionPerformed
        if(! selectedUserId.equals("")) {
            String username = usernameText.getText();
            String nama = namaLengkapText.getText();

            if(username.equals("") || nama.equals("")) {
                helper.showMessage(travelPanel, "Semua form harus diisi!");
            } else {
                userModel.setUpdateValue(username, nama, selectedUserId);
                userModel.updateUser();
                helper.showMessage(travelPanel, "Data pengguna baru berhasil diperbarui!");
                resetUserForm();
                loadUserData();
            }
        }
    }//GEN-LAST:event_btnUpdateUserActionPerformed

    private void btnDeleteUserActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnDeleteUserActionPerformed
        if(! selectedUserId.equals("")) {
            int confirmDialog = helper.confirmDialog(this, "Anda yakin akan menghapus data ini?", "Konfirmasi Hapus data");
            if(confirmDialog == 0){
                userModel.deleteUser(selectedUserId);
                helper.showMessage(this, "Data user berhasil dihapus!");

                resetUserForm();
                loadUserData();
            }
        }
    }//GEN-LAST:event_btnDeleteUserActionPerformed

    private void loadDataTravel() {
        travelTableModel.getDataVector().removeAllElements();
        travelTableModel.fireTableDataChanged();
        try {
            ResultSet travelData = travelModel.getAllTravel();
            while(travelData.next()) {
                Object[] dataObject = new Object[5];
                dataObject[0] = travelData.getString("kode_travel");
                dataObject[1] = travelData.getString("nm_travel");
                dataObject[2] = travelData.getString("harga");
                dataObject[3] = travelData.getString("jumlah_travel");
                dataObject[4] = travelData.getString("keterangan");
                
                travelTableModel.addRow(dataObject); 
            }
        } catch (SQLException e) {
            helper.showMessage(this, e.getMessage());
        }
    }

    private void resetTravelForm() {
        String generatedCode = travelModel.getAutoCode();
        kodeTravelText.setText(generatedCode);
        namaTravelText.setText("");
        hargaTravelText.setText("");
        jumlahTravelText.setText("");
        keteranganText.setText("");
        keywordTravelText.setEnabled(true);
        keywordTravelText.setEditable(true);
        
        //Btn
        btnSaveTravel.setEnabled(true);
        btnDeleteTravel.setEnabled(false);
        btnUpdateTravel.setEnabled(false);
        selectedKodeTravel = "";
    }  

    /*
     *   USER SECTION
     */
    private void btnSaveUserActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSaveUserActionPerformed
        String username = usernameText.getText();
        String password = passwordText.getText();
        String nama = namaLengkapText.getText();

        if(username.equals("") || password.equals("") || nama.equals("")) {
            helper.showMessage(userPanel, "Semua form harus diisi!");
        } else {
            userModel.setValue(username, password, nama);
            userModel.insertUser();
            helper.showMessage(userPanel, "Data pengguna baru berhasil disimpan!");
            resetUserForm();
            loadUserData();
        }
    }//GEN-LAST:event_btnSaveUserActionPerformed

    private void btnResetUserActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnResetUserActionPerformed
        resetUserForm();
    }//GEN-LAST:event_btnResetUserActionPerformed

    private void btnCetakTravelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCetakTravelActionPerformed
        try {
            JasperPrint jp = JasperFillManager.fillReport(getClass().getResourceAsStream("travelReport.jasper"), null, dbHelper.connection());
            JasperViewer.viewReport(jp);
        } catch (Exception e) {
            helper.showMessage(travelPanel, e.getMessage());
        }
    }//GEN-LAST:event_btnCetakTravelActionPerformed

    private void dataTravelMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_dataTravelMouseClicked
        showContent(travelPanel);
    }//GEN-LAST:event_dataTravelMouseClicked

    private void sewaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_sewaMouseClicked
        showContent(sewaPanel);
    }//GEN-LAST:event_sewaMouseClicked

    private void pengembalianMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_pengembalianMouseClicked
        showContent(pengembalianPanel);
    }//GEN-LAST:event_pengembalianMouseClicked

    private void btnResetTravelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnResetTravelActionPerformed
        resetTravelForm();
    }//GEN-LAST:event_btnResetTravelActionPerformed

    private void btnSaveTravelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSaveTravelActionPerformed
        String kodeTravel = travelModel.getAutoCode();
        String namaTravel = namaTravelText.getText();
        String jumlah = jumlahTravelText.getText();
        String harga = hargaTravelText.getText();
        String keterangan = keteranganText.getText();

        if(kodeTravel.equals("") || namaTravel.equals("") || jumlah.equals("") || harga.equals("") || keterangan.equals("")) {
            helper.showMessage(travelPanel, "Semua inputan harus diisi!");
        } else {
            harga = harga.replace(".", "");
            
            travelModel.setValue(kodeTravel, namaTravel, harga, jumlah, keterangan);
            travelModel.insertTravel();
            helper.showMessage(travelPanel, "Data travel baru berhasil disimpan!");
            resetTravelForm();
            resetSewaForm();
            loadDataTravel();
        }
    }//GEN-LAST:event_btnSaveTravelActionPerformed

    private void btnDeleteTravelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnDeleteTravelActionPerformed
        if(! selectedKodeTravel.equals("")) {
            int confirmDialog = helper.confirmDialog(this, "Anda yakin akan menghapus data ini?", "Konfirmasi Hapus data");
            if(confirmDialog == 0){
                travelModel.deleteTravel(selectedKodeTravel);
                helper.showMessage(this, "Data travel berhasil dihapus!");

                resetTravelForm();
                loadDataTravel();
            }
        }
    }//GEN-LAST:event_btnDeleteTravelActionPerformed

    private void btnUpdateTravelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUpdateTravelActionPerformed
        if(! selectedKodeTravel.equals("")) {
            String namaTravel = namaTravelText.getText();
            String jumlah = jumlahTravelText.getText();
            String harga = hargaTravelText.getText();
            String keterangan = keteranganText.getText();
            String kodeSewa = selectedKodeTravel;

            if(kodeSewa.equals("") || namaTravel.equals("") || jumlah.equals("") || harga.equals("") || keterangan.equals("")) {
                helper.showMessage(travelPanel, "Semua inputan harus diisi!");
            } else {
                harga = harga.replace(".", "");

                travelModel.setValue(kodeSewa, namaTravel, harga, jumlah, keterangan);
                travelModel.updateTravel();
                helper.showMessage(travelPanel, "Data travel baru berhasil disimpan!");
                resetTravelForm();
                loadDataTravel();
            }
        }
    }//GEN-LAST:event_btnUpdateTravelActionPerformed
    
    private void loadDataSewa() {
        sewaTableModel.getDataVector().removeAllElements();
        sewaTableModel.fireTableDataChanged();
        try {
            ResultSet sewaData = sewaModel.getSewaWithTravel();
            while(sewaData.next()) {
                Object[] dataObject = new Object[8];
                dataObject[0] = sewaData.getString("no_sewa");
                dataObject[1] = sewaData.getString("nm_penyewa");
                dataObject[2] = sewaData.getString("tgl_sewa");
                dataObject[3] = sewaData.getString("kode_travel");
                dataObject[4] = sewaData.getString("nm_travel");
                dataObject[5] = sewaData.getDouble("harga");
                dataObject[6] = sewaData.getInt("jumlah_sewa");
                dataObject[7] = sewaData.getDouble("total_bayar");
                
                sewaTableModel.addRow(dataObject); 
            }
        } catch (SQLException e) {
            helper.showMessage(this, e.getMessage());
        }
    }            
    
    private void resetSewaForm() {
        String generatedCode = sewaModel.getAutoCode();
        kodeSewaText.setText(generatedCode);
        namaPenyewaText.setText("");
        
        cbTravel.removeAllItems();
        cbTravel.addItem("-- Pilih Kode Travel --");
        
        try {
            ResultSet sewaData = travelModel.getAllTravel();
           while(sewaData.next()) {
               cbTravel.addItem(sewaData.getString(("kode_travel")));
            }
        } catch (SQLException e) {
            helper.showMessage(this, e.getMessage());
        }
        
        namaTravelSewa.setText("");
        hargaTravelSewa.setText("");
        jumlahSewaText.setText("");
        totalBiayaSewaText.setText("Rp0,-");
        tanggalSewaText.setDate(new Date());
        
        keywordSewaText.setEnabled(true);
        keywordSewaText.setEditable(true);
        
        //Btn
        btnSaveSewa.setEnabled(true);
        btnDeleteSewa.setEnabled(false);
        btnUpdateSewa.setEnabled(false);
        
        selectedNoSewa = "";
        SELECTED_HARGA_TRAVEL = 0;
        SELECTED_KODE_TRAVEL = "";
        SELECTED_NAMA_TRAVEL = "";
        TOTAL_BAYAR = 0;
    }
    
    private void btnSaveSewaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSaveSewaActionPerformed
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");        
        
        String noSewa = kodeSewaText.getText();
        String namaPenyewa = namaPenyewaText.getText();
        String tglSewa = String.valueOf(sdf.format(tanggalSewaText.getDate()));
        String kodeTravel = cbTravel.getSelectedItem().toString();
        String jumlahSewa = jumlahSewaText.getText();
        String totalBayar = Double.toString(TOTAL_BAYAR);
        
        
        if(!namaPenyewa.equals("") && !tglSewa.equals("") && !kodeTravel.equals("") && !jumlahSewa.equals("")) {
            sewaModel.setValue(noSewa, namaPenyewa, tglSewa, kodeTravel, jumlahSewa, totalBayar);
            boolean insertSewa = sewaModel.insertSewa();
            helper.showMessage(travelPanel, "Data sewa travel berhasil disimpan!");
            
            travelModel.updateJumlahTravel(kodeTravel, jumlahSewa, "-");
            resetSewaForm();
            resetPengembalianForm();
            loadDataSewa();
            loadDataTravel();
        } else {
            helper.showMessage(sewaPanel, "Semua form harus diisi!");
        }            
    }//GEN-LAST:event_btnSaveSewaActionPerformed

    private void btnDeleteSewaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnDeleteSewaActionPerformed
        if(! selectedNoSewa.equals("")) {
            int confirmDialog = helper.confirmDialog(this, "Anda yakin akan menghapus data ini?", "Konfirmasi Hapus data");
            if(confirmDialog == 0){
                sewaModel.deleteSewa(selectedNoSewa);
                helper.showMessage(this, "Data sewa travel berhasil dihapus!");

                resetSewaForm();
                loadDataSewa();
            }
        }
    }//GEN-LAST:event_btnDeleteSewaActionPerformed

    private void sewaDataTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_sewaDataTableMouseClicked
        int row = sewaDataTable.getSelectedRow();
        if(row >= 0) {
            String noSewa = (sewaDataTable.getModel().getValueAt(row, 0).toString());
            if(! noSewa.equals("")) {
                try {
                    ResultSet dataSewa = sewaModel.getSewaByNomor(noSewa);
                    if(dataSewa.next()) {
                        String namaPenyewa = dataSewa.getString("nm_penyewa");
                        Date tglSewa = dataSewa.getDate("tgl_sewa");
                        int jumlahSewa = dataSewa.getInt("jumlah_sewa");
                        double totalBayar = dataSewa.getDouble("total_bayar");
                        String kodeTravel = dataSewa.getString("kode_travel");
                        
                        ResultSet dataTravel = travelModel.getTravelByCode(kodeTravel);
                        dataTravel.next();
                        String namaTravel = dataTravel.getString("nm_travel");
                        String keterangan = dataTravel.getString("keterangan");
                        double harga = dataTravel.getDouble("harga");
                        int jumlahTravel = dataTravel.getInt("jumlah_travel");
                        
                        selectedNoSewa = noSewa;
                        kodeSewaText.setText(noSewa);
                        namaPenyewaText.setText(namaPenyewa);
                        cbTravel.setSelectedItem(kodeTravel);
                        namaTravelSewa.setText(namaTravel);
                        hargaTravelSewa.setText(Double.toString(harga));
                        jumlahSewaText.setText(Integer.toString(jumlahSewa));
                        totalBiayaSewaText.setText("Rp " + totalBayar + ",-");
                        
                        tanggalSewaText.setDate(tglSewa);

                        btnSaveSewa.setEnabled(false);
                        btnDeleteSewa.setEnabled(true);
                        btnUpdateSewa.setEnabled(true);
                    }
                } catch (SQLException e) {
                    helper.showMessage(this, e.getMessage());
                }
            }
        }
    }//GEN-LAST:event_sewaDataTableMouseClicked

    private void btnCetakSewaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCetakSewaActionPerformed
        try {
            JasperPrint jp = JasperFillManager.fillReport(getClass().getResourceAsStream("sewaReport.jasper"), null, dbHelper.connection());
            JasperViewer.viewReport(jp);
        } catch (Exception e) {
            helper.showMessage(travelPanel, e.getMessage());
        }
    }//GEN-LAST:event_btnCetakSewaActionPerformed

    private void cbTravelItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_cbTravelItemStateChanged
        String selectedItem = evt.getItem().toString();
        if(!selectedItem.equals("-- Pilih Kode Travel --")) {
            String kodeTravel = selectedItem;
            try {
                ResultSet dataTravel = travelModel.getTravelByCode(kodeTravel);
                
                if(dataTravel.next()) {
                    String namaTravel = dataTravel.getString("nm_travel");
                    String harga = dataTravel.getString("harga");
                    
                    namaTravelSewa.setText(namaTravel);
                    hargaTravelSewa.setText(harga);
                    
                    SELECTED_HARGA_TRAVEL = Double.parseDouble(harga);
                    SELECTED_KODE_TRAVEL = kodeTravel;
                    SELECTED_NAMA_TRAVEL = namaTravel;
                }
            } catch (SQLException e) {
                helper.showMessage(this, e.getMessage());
            }
            
            jumlahSewaText.setFocusable(true);
        } else {
            namaTravelSewa.setText("");
            hargaTravelSewa.setText("");
        }
    }//GEN-LAST:event_cbTravelItemStateChanged

    private void loadDataPengembalian() {
        pengembalianTableModel.getDataVector().removeAllElements();
        pengembalianTableModel.fireTableDataChanged();
        try {
            ResultSet sewaData = pengembalianModel.getPengembalianData();
            while(sewaData.next()) {
                Object[] dataObject = new Object[5];
                dataObject[0] = sewaData.getString("no_sewa");
                dataObject[1] = sewaData.getString("nm_penyewa");
                dataObject[2] = sewaData.getString("tgl_kembali");
                dataObject[3] = sewaData.getString("kode_travel");
                dataObject[4] = sewaData.getString("nm_travel");
                
                pengembalianTableModel.addRow(dataObject); 
            }
        } catch (SQLException e) {
            helper.showMessage(this, e.getMessage());
        }
    }
    
    private void resetPengembalianForm() {
        btnDeletePengembalian.setEnabled(false);
        btnSavePengembalian.setEnabled(true);
        
        cbNoSewa.removeAllItems();
        cbNoSewa.addItem("-- Pilih Nomor Sewa --");
        
        try {
            ResultSet sewaData = sewaModel.getSewaBelumKembali();
           while(sewaData.next()) {
               cbNoSewa.addItem(sewaData.getString(("no_sewa")));
            }
        } catch (SQLException e) {
            helper.showMessage(this, e.getMessage());
        }        
        
        namaPenyewaKembali.setText("");
        jumlahSewaKembali.setText("");
        totalBayarKembali.setText("");
        tanggalKembaliText.setDate(new Date());
        selectedNoSewa = "";
        selectedKodeTravel = "";
    }
    
    
    private void btnSavePengembalianActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSavePengembalianActionPerformed
        String noSewa = cbNoSewa.getSelectedItem().toString();
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");        
        String tglKembali = String.valueOf(sdf.format(tanggalKembaliText.getDate()));
        String jumlahSewa = jumlahSewaKembali.getText();
        String kodeTravel = selectedKodeTravel;
        
        if(! noSewa.equals("") && !tglKembali.equals("") && !kodeTravel.equals("")) {
            pengembalianModel.setValue(noSewa, tglKembali);
            
            try {
                ResultSet cekPengembalian = pengembalianModel.getPengembalianByNoSewa(noSewa);
                if(cekPengembalian.next()) {
                    pengembalianModel.updatePengembalian();
                } else {
                    pengembalianModel.insertPengembalian();
                }
            } catch (SQLException ex) {
                Logger.getLogger(MainForm.class.getName()).log(Level.SEVERE, null, ex);
            }
            
            travelModel.updateJumlahTravel(kodeTravel, jumlahSewa, "+");
            helper.showMessage(pengembalianPanel, "Data Sewa berhasil dikembalikan");
            
            resetPengembalianForm();
            loadDataPengembalian();
            loadDataTravel();
        }
    }//GEN-LAST:event_btnSavePengembalianActionPerformed

    private void btnDeletePengembalianActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnDeletePengembalianActionPerformed
        if(! selectedNoSewa.equals("")) {
            String noSewa = selectedNoSewa;
            int confirmDialog = helper.confirmDialog(this, "Anda yakin akan menghapus data ini?", "Konfirmasi Hapus data");
            if(confirmDialog == 0){
                pengembalianModel.deletePengembalian(noSewa);
                helper.showMessage(this, "Data pengembalian sewa travel berhasil dihapus!");

                resetPengembalianForm();
                loadDataPengembalian();
            }
        }
    }//GEN-LAST:event_btnDeletePengembalianActionPerformed

    private void cbNoSewaItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_cbNoSewaItemStateChanged
        String noSewa = evt.getItem().toString();
        if(! noSewa.equals("-- Pilih Nomor Sewa --")) {
            try {
                ResultSet dataSewa = sewaModel.getSewaByNomor(noSewa);

                if(dataSewa.next()) {
                    String namaPenyewa = dataSewa.getString("nm_penyewa");
                    double totalBayar = dataSewa.getDouble("total_bayar");
                    int jumlahSewa = dataSewa.getInt("jumlah_sewa");
                    
                    namaPenyewaKembali.setText(namaPenyewa);
                    totalBayarKembali.setText(Double.toString(totalBayar));
                    jumlahSewaKembali.setText(Integer.toString(jumlahSewa));
                    selectedKodeTravel = dataSewa.getString("kode_travel");
                }
            } catch (SQLException e) {
                helper.showMessage(this, e.getMessage());
            }
        }
    }//GEN-LAST:event_cbNoSewaItemStateChanged

    private void pengembalianDataTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_pengembalianDataTableMouseClicked
        int row = pengembalianDataTable.getSelectedRow();
        if(row >= 0) {
            String noSewa = (pengembalianDataTable.getModel().getValueAt(row, 0).toString());
            if(! noSewa.equals("")) {
                try {
                    ResultSet dataSewa = sewaModel.getSewaByNomor(noSewa);
                    if(dataSewa.next()) {
                        String namaPenyewa = dataSewa.getString("nm_penyewa");
                        int jumlahSewa = dataSewa.getInt("jumlah_sewa");
                        double totalBayar = dataSewa.getDouble("total_bayar");
                        String tanggalKembali = (pengembalianDataTable.getModel().getValueAt(row, 2).toString());
                        
                        cbNoSewa.removeAllItems();
                        cbNoSewa.addItem(noSewa);
                        cbNoSewa.setSelectedItem(noSewa);
                        namaPenyewaKembali.setText(namaPenyewa);
                        jumlahSewaKembali.setText(Integer.toString(jumlahSewa));
                        totalBayarKembali.setText(Double.toString(totalBayar));
                        
                        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
                        try {
                            Date tglKembali = sdf.parse(tanggalKembali);
                            tanggalKembaliText.setDate(tglKembali);
                        } catch (ParseException ex) {
                            Logger.getLogger(MainForm.class.getName()).log(Level.SEVERE, null, ex);
                        }
                        
                        btnSavePengembalian.setEnabled(false);
                        btnDeletePengembalian.setEnabled(true);
                        selectedNoSewa = noSewa;
                        selectedKodeTravel = dataSewa.getString("kode_travel");
                    }
                } catch (SQLException e) {
                    helper.showMessage(this, e.getMessage());
                }
            }
        }
    }//GEN-LAST:event_pengembalianDataTableMouseClicked

    private void btnUpdateSewaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUpdateSewaActionPerformed
        if(! selectedNoSewa.equals("")) {
            SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");

            String noSewa = kodeSewaText.getText();
            String namaPenyewa = namaPenyewaText.getText();
            String tglSewa = String.valueOf(sdf.format(tanggalSewaText.getDate()));
            String kodeTravel = cbTravel.getSelectedItem().toString();
            String jumlahSewa = jumlahSewaText.getText();
            String totalBayar = Double.toString(TOTAL_BAYAR);

            if(!namaPenyewa.equals("") && !tglSewa.equals("") && !kodeTravel.equals("") && !jumlahSewa.equals("")) {
                sewaModel.setValue(noSewa, namaPenyewa, tglSewa, kodeTravel, jumlahSewa, totalBayar);
                sewaModel.updateSewa();
                helper.showMessage(travelPanel, "Data sewa travel berhasil disimpan!");

                //travelModel.updateJumlahTravel(kodeTravel, jumlahSewa);
                resetSewaForm();
                loadDataSewa();
                //loadDataTravel();
            } else {
                helper.showMessage(sewaPanel, "Semua form harus diisi!");
            }
        }
    }//GEN-LAST:event_btnUpdateSewaActionPerformed

    private void btnResetSewaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnResetSewaActionPerformed
        resetSewaForm();
    }//GEN-LAST:event_btnResetSewaActionPerformed

    private void jumlahSewaTextKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jumlahSewaTextKeyReleased
        String jumlahSewa = jumlahSewaText.getText();
        if(! jumlahSewa.equals("")) {

            if(!SELECTED_KODE_TRAVEL.equals("") && SELECTED_HARGA_TRAVEL > 0) {
                int totalBiaya = (int) (Integer.parseInt(jumlahSewa) * SELECTED_HARGA_TRAVEL);
                TOTAL_BAYAR = totalBiaya;
                totalBiayaSewaText.setText("Rp" + totalBiaya + ",-");
            }
        }
    }//GEN-LAST:event_jumlahSewaTextKeyReleased

    private void keywordTravelTextKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_keywordTravelTextKeyPressed
        if(evt.getKeyCode() == KeyEvent.VK_ENTER) {            
            
            travelTableModel.getDataVector().removeAllElements();
            travelTableModel.fireTableDataChanged();
            try {
                String keyword = keywordTravelText.getText();
                ResultSet resultSearch = travelModel.getSearch(keyword);
                while(resultSearch.next()) {
                    Object[] dataObject = new Object[5];
                    dataObject[0] = resultSearch.getString("kode_travel");
                    dataObject[1] = resultSearch.getString("nm_travel");
                    dataObject[2] = resultSearch.getString("harga");
                    dataObject[3] = resultSearch.getString("jumlah_travel");
                    dataObject[4] = resultSearch.getString("keterangan");

                    travelTableModel.addRow(dataObject); 
                }
            } catch (SQLException e) {
                helper.showMessage(this, e.getMessage());
            }
       }
    }//GEN-LAST:event_keywordTravelTextKeyPressed

    private void btnResetPengembalianActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnResetPengembalianActionPerformed
        resetPengembalianForm();
    }//GEN-LAST:event_btnResetPengembalianActionPerformed

    private void btnFilterSewaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnFilterSewaActionPerformed
        Date tanggalAwal = startDateSewa.getDate();
        Date tanggalAkhir = endDateSewa.getDate();
        if(! tanggalAwal.equals("") && ! tanggalAkhir.equals("")) {
            sewaTableModel.getDataVector().removeAllElements();
            sewaTableModel.fireTableDataChanged();
            
            SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
            
            String startDate = String.valueOf(sdf.format(tanggalAwal));
            String endDate = String.valueOf(sdf.format(tanggalAkhir));
            
            try {
                ResultSet sewaData = sewaModel.getFilterData(startDate, endDate);
                while(sewaData.next()) {
                    String kodeTravel = sewaData.getString("kode_travel");
                    Object[] dataObject = new Object[8];
                    dataObject[0] = sewaData.getString("no_sewa");
                    dataObject[1] = sewaData.getString("nm_penyewa");
                    dataObject[2] = sewaData.getString("tgl_sewa");
                    dataObject[3] = kodeTravel;                    
                    
                    ResultSet travelData = travelModel.getTravelByCode(kodeTravel);
                    travelData.next();                    
                    
                    dataObject[4] = travelData.getString("nm_travel");
                    dataObject[5] = travelData.getDouble("harga");
                    dataObject[6] = sewaData.getInt("jumlah_sewa");
                    dataObject[7] = sewaData.getDouble("total_bayar");

                    sewaTableModel.addRow(dataObject); 
                }
            } catch (SQLException e) {
                helper.showMessage(this, e.getMessage());
            }
        } else {
            helper.showMessage(sewaPanel, "Silahkan pilih tanggal untuk filter data!");
        }
    }//GEN-LAST:event_btnFilterSewaActionPerformed

    private void keywordSewaTextKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_keywordSewaTextKeyPressed
        if(evt.getKeyCode() == KeyEvent.VK_ENTER) {
            String keywordSewa = keywordSewaText.getText();
            
            sewaTableModel.getDataVector().removeAllElements();
            sewaTableModel.fireTableDataChanged();
            try {
                ResultSet sewaData = sewaModel.getSearch(keywordSewa);
                while(sewaData.next()) {
                    String kodeTravel = sewaData.getString("kode_travel");
                    Object[] dataObject = new Object[8];
                    dataObject[0] = sewaData.getString("no_sewa");
                    dataObject[1] = sewaData.getString("nm_penyewa");
                    dataObject[2] = sewaData.getString("tgl_sewa");
                    dataObject[3] = kodeTravel;                    
                    
                    ResultSet travelData = travelModel.getTravelByCode(kodeTravel);
                    travelData.next();                    
                    
                    dataObject[4] = travelData.getString("nm_travel");
                    dataObject[5] = travelData.getDouble("harga");
                    dataObject[6] = sewaData.getInt("jumlah_sewa");
                    dataObject[7] = sewaData.getDouble("total_bayar");

                    sewaTableModel.addRow(dataObject); 
                }
            } catch (SQLException e) {
                helper.showMessage(this, e.getMessage());
            }
        }
    }//GEN-LAST:event_keywordSewaTextKeyPressed

    private void keywordPengembalianTextKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_keywordPengembalianTextKeyPressed
        if(evt.getKeyCode() == KeyEvent.VK_ENTER) {
            String keyword = keywordPengembalianText.getText();
            
            if(!keyword.equals("")) {
                pengembalianTableModel.getDataVector().removeAllElements();
                pengembalianTableModel.fireTableDataChanged();
                try {
                    ResultSet pengembalianData = pengembalianModel.getSearch(keyword);
                    while(pengembalianData.next()) {
                        String noSewa = pengembalianData.getString("no_sewa");
                        Object[] dataObject = new Object[5];
                        dataObject[0] = noSewa;
                        
                        ResultSet sewaData = sewaModel.getSewaByNomor(noSewa);
                        sewaData.next();
                        
                        String kodeTravel = sewaData.getString("kode_travel");
                        dataObject[1] = sewaData.getString("nm_penyewa");
                        dataObject[2] = pengembalianData.getString("tgl_kembali");
                        dataObject[3] = kodeTravel;
                        
                        ResultSet travelData = travelModel.getTravelByCode(kodeTravel);
                        travelData.next();
                        dataObject[4] = travelData.getString("nm_travel");

                        pengembalianTableModel.addRow(dataObject); 
                    }
                } catch (SQLException e) {
                    helper.showMessage(this, e.getMessage());
                }
            } else {
                helper.showMessage(pengembalianPanel, "Masukkan keyword untuk melakukan pencarian!");
            }
        }
    }//GEN-LAST:event_keywordPengembalianTextKeyPressed

    private void btnFilterPengembalianActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnFilterPengembalianActionPerformed
        Date tanggalAwal = startDatePengembalian.getDate();
        Date tanggalAkhir = endDatePengembalian.getDate();
        
        if(! tanggalAwal.equals("") && ! tanggalAkhir.equals("")) {
            pengembalianTableModel.getDataVector().removeAllElements();
            pengembalianTableModel.fireTableDataChanged();
            
            SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
            
            String startDate = String.valueOf(sdf.format(tanggalAwal));
            String endDate = String.valueOf(sdf.format(tanggalAkhir));
            
            try {
                ResultSet pengembalianData = pengembalianModel.getFilterData(startDate, endDate);
                while(pengembalianData.next()) {
                    String noSewa = pengembalianData.getString("no_sewa");
                    Object[] dataObject = new Object[5];
                    dataObject[0] = noSewa;
                        
                    ResultSet sewaData = sewaModel.getSewaByNomor(noSewa);
                    sewaData.next();
                        
                    String kodeTravel = sewaData.getString("kode_travel");
                    dataObject[1] = sewaData.getString("nm_penyewa");
                    dataObject[2] = pengembalianData.getString("tgl_kembali");
                    dataObject[3] = kodeTravel;
                        
                    ResultSet travelData = travelModel.getTravelByCode(kodeTravel);
                    travelData.next();
                    dataObject[4] = travelData.getString("nm_travel");

                    pengembalianTableModel.addRow(dataObject); 
                }
            } catch (SQLException e) {
                helper.showMessage(this, e.getMessage());
            }
        } else {
            helper.showMessage(sewaPanel, "Silahkan pilih tanggal untuk filter data!");
        }
    }//GEN-LAST:event_btnFilterPengembalianActionPerformed

    private void btnCetakPengembalianActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCetakPengembalianActionPerformed
        try {
            JasperPrint jp = JasperFillManager.fillReport(getClass().getResourceAsStream("pengembalianReport.jasper"), null, dbHelper.connection());
            JasperViewer.viewReport(jp);
        } catch (Exception e) {
            helper.showMessage(travelPanel, e.getMessage());
        }
    }//GEN-LAST:event_btnCetakPengembalianActionPerformed

    private void userDataTableMouseClicked(java.awt.event.MouseEvent evt) {                                           
        int row = userDataTable.getSelectedRow();
        if(row >= 0) {
            String userId = (userDataTable.getModel().getValueAt(row, 0).toString());
            if(! userId.equals("")) {
                try {
                    ResultSet userData = userModel.getUserById(userId);
                    if(userData.next()) {
                        String uname = userData.getString("username");
                        String namaLengkap = userData.getString("nm_user");
                        
                        selectedUserId = userData.getString("id_user");
                        usernameText.setText(uname);
                        namaLengkapText.setText(namaLengkap);

                        passwordText.setEnabled(false);
                        btnSaveUser.setEnabled(false);
                        btnDeleteUser.setEnabled(true);
                        btnUpdateUser.setEnabled(true);
                    }
                } catch (SQLException e) {
                    helper.showMessage(this, e.getMessage());
                }
            }   
        }
    }

    private void loadUserData() {
        userTableModel.getDataVector().removeAllElements();
        userTableModel.fireTableDataChanged();
        try {
             ResultSet userData = userModel.loadData();
            while(userData.next()) {
            Object[] dataObject = new Object[3];
                dataObject[0] = userData.getString("id_user");
                dataObject[1] = userData.getString("username");
                dataObject[2] = userData.getString("nm_user");
                
                userTableModel.addRow(dataObject); 
            }
        } catch (SQLException e) {
            helper.showMessage(this, e.getMessage());
        }
    }
    
    private void resetUserForm() {
        usernameText.setText("");
        passwordText.setText("");
        passwordText.setEnabled(true);
        namaLengkapText.setText("");
        
        //Btn
        btnSaveUser.setEnabled(true);
        btnDeleteUser.setEnabled(false);
        btnUpdateUser.setEnabled(false);
        selectedUserId = "";
    }

    /* Dynamic showing panel as content */
    private void showContent(javax.swing.JPanel panelName) {
        //Reset All Form when change the menu
        resetTravelForm();
        resetSewaForm();
        resetPengembalianForm();
        resetUserForm();
        
        mainPanel.removeAll();
        mainPanel.repaint();
        mainPanel.revalidate();
        
        mainPanel.add(panelName);
        panelName.setLocation(0,0);
        panelName.setSize(1366, 768);
        panelName.setBackground(new Color(240, 240, 240));
        
        mainPanel.repaint();
        mainPanel.revalidate();
    }
    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(MainForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(MainForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(MainForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(MainForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new MainForm().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel appName;
    private javax.swing.JButton btnCetakPengembalian;
    private javax.swing.JButton btnCetakSewa;
    private javax.swing.JButton btnCetakTravel;
    private javax.swing.JButton btnDeletePengembalian;
    private javax.swing.JButton btnDeleteSewa;
    private javax.swing.JButton btnDeleteTravel;
    private javax.swing.JButton btnDeleteUser;
    private javax.swing.JButton btnFilterPengembalian;
    private javax.swing.JButton btnFilterSewa;
    private javax.swing.JButton btnResetPengembalian;
    private javax.swing.JButton btnResetSewa;
    private javax.swing.JButton btnResetTravel;
    private javax.swing.JButton btnResetUser;
    private javax.swing.JButton btnSavePengembalian;
    private javax.swing.JButton btnSaveSewa;
    private javax.swing.JButton btnSaveTravel;
    private javax.swing.JButton btnSaveUser;
    private javax.swing.JButton btnUpdateSewa;
    private javax.swing.JButton btnUpdateTravel;
    private javax.swing.JButton btnUpdateUser;
    private javax.swing.JComboBox<String> cbNoSewa;
    private javax.swing.JComboBox<String> cbTravel;
    private javax.swing.JMenu dataTravel;
    private com.toedter.calendar.JDateChooser endDatePengembalian;
    private com.toedter.calendar.JDateChooser endDateSewa;
    private javax.swing.JTextField hargaTravelSewa;
    private javax.swing.JFormattedTextField hargaTravelText;
    private javax.swing.JMenu home;
    private javax.swing.JPanel homePanel;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel42;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel44;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane8;
    private javax.swing.JTextField jumlahSewaKembali;
    private javax.swing.JTextField jumlahSewaText;
    private javax.swing.JTextField jumlahTravelText;
    private javax.swing.JMenu keluar;
    private javax.swing.JTextArea keteranganText;
    private javax.swing.JTextField keywordPengembalianText;
    private javax.swing.JTextField keywordSewaText;
    private javax.swing.JTextField keywordTravelText;
    private javax.swing.JTextField kodeSewaText;
    private javax.swing.JTextField kodeTravelText;
    private javax.swing.JPanel mainPanel;
    private javax.swing.JMenu manajemenPengguna;
    private javax.swing.JMenuBar myMenuBar;
    private javax.swing.JTextField namaLengkapText;
    private javax.swing.JTextField namaPenyewaKembali;
    private javax.swing.JTextField namaPenyewaText;
    private javax.swing.JFormattedTextField namaTravelSewa;
    private javax.swing.JTextField namaTravelText;
    private javax.swing.JPasswordField passwordText;
    private javax.swing.JMenu pengembalian;
    private javax.swing.JPanel pengembalianDataPanel;
    private javax.swing.JTable pengembalianDataTable;
    private javax.swing.JPanel pengembalianFormPanel;
    private javax.swing.JPanel pengembalianPanel;
    private javax.swing.JMenu sewa;
    private javax.swing.JPanel sewaDataPanel;
    private javax.swing.JTable sewaDataTable;
    private javax.swing.JPanel sewaFormPanel;
    private javax.swing.JPanel sewaPanel;
    private com.toedter.calendar.JDateChooser startDatePengembalian;
    private com.toedter.calendar.JDateChooser startDateSewa;
    private com.toedter.calendar.JDateChooser tanggalKembaliText;
    private com.toedter.calendar.JDateChooser tanggalSewaText;
    private javax.swing.JTextField totalBayarKembali;
    private javax.swing.JLabel totalBiayaSewaText;
    private javax.swing.JPanel travelDataPanel;
    private javax.swing.JTable travelDataTable;
    private javax.swing.JPanel travelFormPanel;
    private javax.swing.JPanel travelPanel;
    private javax.swing.JPanel userDataPanel;
    private javax.swing.JTable userDataTable;
    private javax.swing.JPanel userFormPanel;
    private javax.swing.JLabel userLoggedInStatus;
    private javax.swing.JPanel userPanel;
    private javax.swing.JTextField usernameText;
    private javax.swing.JLabel welcomeLabel;
    // End of variables declaration//GEN-END:variables
}
